# EchoHelix bridge environment (copy to /etc/echohelix/elix-bridge.env)

BRIDGE_HTTP_ADDR=0.0.0.0:8765
BRIDGE_AUTH_TOKEN=change-me
WORKSPACE_ROOTS=/tmp,/home
BRIDGE_FILE_STORE_DIR=/opt/echohelix/files
BRIDGE_MAX_UPLOAD_BYTES=20971520

# Optional overrides. Defaults resolve relative to elix-bridge executable directory.
# CODEX_ADAPTER_BIN=/opt/echohelix/bin/codex-adapter
# GEMINI_ADAPTER_BIN=/opt/echohelix/bin/gemini-adapter
# CLAUDE_ADAPTER_BIN=/opt/echohelix/bin/claude-adapter

# Enable/disable adapters
# CODEX_ADAPTER_ENABLED=1
# GEMINI_ADAPTER_ENABLED=1
# CLAUDE_ADAPTER_ENABLED=0

# CLI bins available on PATH or set absolute paths
# CODEX_CLI_BIN=codex
# GEMINI_CLI_BIN=gemini
# CLAUDE_CLI_BIN=claude
# CODEX_SESSION_ENABLED=1
# CODEX_APP_SERVER_ARGS=
# GEMINI_SESSION_ARGS=
# CLAUDE_SESSION_ARGS=
# CODEX_SESSION_START_TIMEOUT_SECONDS=20
# CODEX_SESSION_REQUEST_TIMEOUT_SECONDS=30
# SESSION_RETENTION_SECONDS=21600
# SESSION_CLEANUP_INTERVAL_SECONDS=300
# BACKEND_CALL_READ_METHODS=status
# BACKEND_CALL_CANCEL_METHODS=turn/interrupt
# BACKEND_CALL_BLOCKED_METHODS=initialize,initialized

# Claude API mode
# ANTHROPIC_API_KEY=
# ANTHROPIC_BASE_URL=

# Security controls
AUTH_PAIR_START_RATE_LIMIT=6
AUTH_PAIR_START_RATE_WINDOW_SECONDS=60
AUTH_REFRESH_FAIL_ALERT_THRESHOLD=5
AUTH_REFRESH_FAIL_ALERT_WINDOW_SECONDS=120
AUTH_AUTH_FAIL_ALERT_THRESHOLD=8
AUTH_AUTH_FAIL_ALERT_WINDOW_SECONDS=120
AUTH_PAIR_COMPLETE_FAIL_ALERT_THRESHOLD=5
AUTH_PAIR_COMPLETE_FAIL_ALERT_WINDOW_SECONDS=120
# Comma-separated CIDRs for trusted reverse proxies that are allowed
# to supply X-Forwarded-For (default empty = ignore X-Forwarded-For).
# TRUSTED_PROXY_CIDRS=127.0.0.1/32,::1/128
